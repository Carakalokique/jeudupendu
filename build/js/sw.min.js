const CACHE_NAME="jeu-pendu-v1",urlsToCache=["/","/style.css","/YourGameScript.js","/voice-commands.js","/words.json","/favicon.png","/performance-monitor.js","https://fonts.googleapis.com/css?family=Open+Sans","https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap","https://fonts.googleapis.com/css?family=Luckiest+Guy&display=swap"];self.addEventListener("install",(e=>{e.waitUntil(caches.open(CACHE_NAME).then((e=>(console.log("Cache ouvert"),e.addAll(urlsToCache)))))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==CACHE_NAME)return console.log("Suppression de l'ancien cache:",e),caches.delete(e)}))))))})),self.addEventListener("fetch",(e=>{"navigate"!==e.request.mode?e.respondWith(caches.match(e.request).then((s=>s?(fetch(e.request).then((s=>caches.open(CACHE_NAME).then((t=>{t.put(e.request,s.clone())})))).catch((()=>{})),s):fetch(e.request).then((s=>{if(!s||200!==s.status||"basic"!==s.type)return s;const t=s.clone();return caches.open(CACHE_NAME).then((s=>{s.put(e.request,t)})),s}))))):e.respondWith(fetch(e.request).then((s=>caches.open(CACHE_NAME).then((t=>(t.put(e.request,s.clone()),s))))).catch((()=>caches.match(e.request))))}));